{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\typescript\\\\my-app\\\\components\\\\Authentification.tsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport FirebaseContext from './useFirebase';\nimport { useRouter } from 'next/router';\nimport ScreenLoader from './ScreenLoader';\nexport default function AuthGuard({\n  children\n}) {\n  const router = useRouter();\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  const app = useContext(FirebaseContext);\n  const auth = app.auth();\n  useEffect(() => {\n    const observable = auth.onAuthStateChanged(function (user) {\n      if (user) {\n        // free screen to render\n        setUser(auth.currentUser);\n      } else {\n        // navigate else where\n        router.push('/');\n      }\n    });\n    return function () {\n      observable();\n    };\n  });\n  return __jsx(React.Fragment, null, !user ? __jsx(ScreenLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 20\n    }\n  }) : children);\n}","map":{"version":3,"sources":["C:/Users/USER/Desktop/typescript/my-app/components/Authentification.tsx"],"names":["React","useContext","useEffect","useState","FirebaseContext","useRouter","ScreenLoader","AuthGuard","children","router","user","setUser","app","auth","observable","onAuthStateChanged","currentUser","push"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,eAAP,MAA4B,eAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAMA,eAAe,SAASC,SAAT,CAAmB;AAAEC,EAAAA;AAAF,CAAnB,EAA6D;AAC3E,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;AACA,QAAM;AAAA,OAACK,IAAD;AAAA,OAAOC;AAAP,MAAkBR,QAAQ,CAAuB,IAAvB,CAAhC;AACA,QAAMS,GAAG,GAAGX,UAAU,CAACG,eAAD,CAAtB;AACA,QAAMS,IAAI,GAAGD,GAAG,CAACC,IAAJ,EAAb;AACAX,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMY,UAAU,GAAGD,IAAI,CAACE,kBAAL,CAAwB,UAAUL,IAAV,EAAgB;AAC1D,UAAIA,IAAJ,EAAU;AACT;AACAC,QAAAA,OAAO,CAACE,IAAI,CAACG,WAAN,CAAP;AACA,OAHD,MAGO;AACN;AACAP,QAAAA,MAAM,CAACQ,IAAP,CAAY,GAAZ;AACA;AACD,KARkB,CAAnB;AASA,WAAO,YAAY;AAClBH,MAAAA,UAAU;AACV,KAFD;AAGA,GAbQ,CAAT;AAcA,SAAO,4BAAG,CAACJ,IAAD,GAAQ,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR,GAA2BF,QAA9B,CAAP;AACA","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport FirebaseContext from './useFirebase';\r\nimport { useRouter } from 'next/router';\r\nimport ScreenLoader from './ScreenLoader';\r\n\r\ninterface AuthGuardProp {\r\n\tchildren: Array<JSX.Element> | JSX.Element;\r\n}\r\n\r\nexport default function AuthGuard({ children }: AuthGuardProp): JSX.Element {\r\n\tconst router = useRouter();\r\n\tconst [user, setUser] = useState<firebase.User | null>(null);\r\n\tconst app = useContext(FirebaseContext);\r\n\tconst auth = app.auth();\r\n\tuseEffect(() => {\r\n\t\tconst observable = auth.onAuthStateChanged(function (user) {\r\n\t\t\tif (user) {\r\n\t\t\t\t// free screen to render\r\n\t\t\t\tsetUser(auth.currentUser);\r\n\t\t\t} else {\r\n\t\t\t\t// navigate else where\r\n\t\t\t\trouter.push('/');\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn function () {\r\n\t\t\tobservable();\r\n\t\t};\r\n\t});\r\n\treturn <>{!user ? <ScreenLoader /> : children}</>;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}