{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\typescript\\\\my-app\\\\pages\\\\customersForm.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport { Button, Card, Col, Form, Row, Spinner } from 'react-bootstrap';\nimport useFirebase from '../components/useFirebase';\nimport { useRouter } from 'next/router';\nimport { toast, ToastContainer } from 'react-toastify';\nexport default function CustomersForm() {\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: phone,\n    1: setPhone\n  } = useState('');\n  const {\n    0: address,\n    1: setAddress\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const router = useRouter();\n  const app = useContext(useFirebase);\n  const firestore = app.firestore();\n\n  const AddCustomer = async () => {\n    if (name.length < 5) return toast.error('customer name must be grater that 5 characters');\n    if (email.length < 7) return toast.error('customer email must be grater that 7 characters');\n    if (address.length < 5) return toast.error('customer address must be grater that 5 characters');\n    if (phone.length < 7) return toast.error('customer phone number must be grater that 7 characters');\n    if (name.length > 100 || email.length > 50 || address.length > 100 || phone.length > 20) return toast.error('Invalid Request');\n    setLoading(true);\n    const now = Date.now();\n    const newCustomer = {\n      id: `${now}`,\n      name: name,\n      email: email,\n      phone: phone,\n      address: address,\n      type: 'One-off'\n    };\n\n    try {\n      //call the backend to add the customer\n      const res = await firestore.collection('customers').add(newCustomer);\n      toast.success('customer added to the database');\n      setLoading(false);\n      console.log(res);\n      router.reload();\n    } catch (error) {\n      toast.error('Cant connect to database now');\n    }\n\n    setLoading(false);\n  };\n\n  return __jsx(Row, {\n    className: \"justify-content-center p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }\n  }, __jsx(Col, {\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, __jsx(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 6\n    }\n  }), __jsx(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 6\n    }\n  }, __jsx(Form, {\n    onSubmit: AddCustomer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 8\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, \"Name\"), __jsx(Form.Control, {\n    type: \"text\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    placeholder: \"enter your full name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Email\"), __jsx(Form.Control, {\n    type: \"email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"enter your email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 8\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Address\"), __jsx(Form.Control, {\n    type: \"text\",\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    placeholder: \"enter your address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }))), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }\n  }, \"phone\"), __jsx(Form.Control, {\n    type: \"text\",\n    value: phone,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"enter your phoneNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 8\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    className: \"ml-2 btn-secondary mb-0\",\n    onClick: AddCustomer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 8\n    }\n  }, loading ? __jsx(Spinner, {\n    animation: \"border\",\n    variant: \"ligth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 20\n    }\n  }) : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 69\n    }\n  }, \"Insert\"))), __jsx(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  })), __jsx(Card.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 6\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Users/USER/Desktop/typescript/my-app/pages/customersForm.tsx"],"names":["React","useState","useContext","Button","Card","Col","Form","Row","Spinner","useFirebase","useRouter","toast","ToastContainer","CustomersForm","name","setName","email","setEmail","phone","setPhone","address","setAddress","loading","setLoading","router","app","firestore","AddCustomer","length","error","now","Date","newCustomer","id","type","res","collection","add","success","console","log","reload","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Button, Card, Col, Form, Row, Spinner } from 'react-bootstrap';\r\nimport useFirebase from '../components/useFirebase';\r\nimport { useRouter } from 'next/router';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\n\r\nexport interface Customers {\r\n\tid: string;\r\n\tname: string;\r\n\temail: string;\r\n\taddress: string;\r\n\tphone: string;\r\n\ttype: 'Roaster' | 'One-off';\r\n\t_id?: any;\r\n}\r\n\r\nexport default function CustomersForm() {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [phone, setPhone] = useState('');\r\n\tconst [address, setAddress] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst router = useRouter();\r\n\tconst app = useContext(useFirebase);\r\n\tconst firestore = app.firestore();\r\n\tconst AddCustomer = async () => {\r\n\t\tif (name.length < 5) return toast.error('customer name must be grater that 5 characters');\r\n\t\tif (email.length < 7) return toast.error('customer email must be grater that 7 characters');\r\n\t\tif (address.length < 5) return toast.error('customer address must be grater that 5 characters');\r\n\t\tif (phone.length < 7) return toast.error('customer phone number must be grater that 7 characters');\r\n\t\tif (name.length > 100 || email.length > 50 || address.length > 100 || phone.length > 20)\r\n\t\t\treturn toast.error('Invalid Request');\r\n\t\tsetLoading(true);\r\n\t\tconst now = Date.now();\r\n\t\tconst newCustomer: Customers = {\r\n\t\t\tid: `${now}`,\r\n\t\t\tname: name,\r\n\t\t\temail: email,\r\n\t\t\tphone: phone,\r\n\t\t\taddress: address,\r\n\t\t\ttype: 'One-off',\r\n\t\t};\r\n\t\ttry {\r\n\t\t\t//call the backend to add the customer\r\n\t\t\tconst res = await firestore.collection('customers').add(newCustomer);\r\n\r\n\t\t\ttoast.success('customer added to the database');\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(res);\r\n\t\t\trouter.reload();\r\n\t\t} catch (error) {\r\n\t\t\ttoast.error('Cant connect to database now');\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\treturn (\r\n\t\t<Row className=\"justify-content-center p-5\">\r\n\t\t\t<Col lg={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Card.Header></Card.Header>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Form onSubmit={AddCustomer}>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"enter your full name\"\r\n\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Email</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"enter your email\"\r\n\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"enter your address\"\r\n\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Label>phone</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={phone}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\tplaceholder=\"enter your phoneNumber\"\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Button className=\"ml-2 btn-secondary mb-0\" onClick={AddCustomer}>\r\n\t\t\t\t\t\t\t\t{loading ? <Spinner animation=\"border\" variant=\"ligth\" /> : <span>Insert</span>}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<ToastContainer></ToastContainer>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t<Card.Footer></Card.Footer>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}