{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\typescript\\\\my-app\\\\pages\\\\customersForm.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useContext, useRef, useEffect } from 'react';\nimport { Button, Card, Col, Form, Row, Spinner } from 'react-bootstrap';\nimport useFirebase from '../components/useFirebase';\nimport { useRouter } from 'next/router';\nimport { toast, ToastContainer } from 'react-toastify';\nimport AuthGuard from '../components/Authentification';\nexport default function CustomersForm() {\n  _s();\n\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(''),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      phone = _useState3[0],\n      setPhone = _useState3[1];\n\n  var _useState4 = useState(''),\n      address = _useState4[0],\n      setAddress = _useState4[1];\n\n  var _useState5 = useState(false),\n      loading = _useState5[0],\n      setLoading = _useState5[1];\n\n  var inputRef = useRef(null);\n  var router = useRouter();\n  var app = useContext(useFirebase);\n  var firestore = app.firestore();\n\n  var AddCustomer = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var now, newCustomer, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(name.length < 5)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('customer name must be grater that 5 characters'));\n\n            case 2:\n              if (!(email.length < 7)) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('customer email must be grater that 7 characters'));\n\n            case 4:\n              if (!(address.length < 5)) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('customer address must be grater that 5 characters'));\n\n            case 6:\n              if (!(phone.length < 7)) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('customer phone number must be grater that 7 characters'));\n\n            case 8:\n              if (!(name.length > 100 || email.length > 50 || address.length > 100 || phone.length > 20)) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('Invalid Request'));\n\n            case 10:\n              setLoading(true);\n              now = Date.now();\n              newCustomer = {\n                id: \"\".concat(now),\n                name: name,\n                email: email,\n                phone: phone,\n                address: address,\n                type: 'One-off'\n              };\n              _context.prev = 13;\n              _context.next = 16;\n              return firestore.collection('customers').add(newCustomer);\n\n            case 16:\n              res = _context.sent;\n              toast.success('customer added to the database');\n              setLoading(false);\n              console.log(res);\n              router.push('/customers');\n              _context.next = 26;\n              break;\n\n            case 23:\n              _context.prev = 23;\n              _context.t0 = _context[\"catch\"](13);\n              toast.error('Cant connect to database now');\n\n            case 26:\n              setLoading(false);\n\n            case 27:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[13, 23]]);\n    }));\n\n    return function AddCustomer() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleEdit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(id);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleEdit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    inputRef.current.focus();\n  }, []);\n  return __jsx(AuthGuard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 3\n    }\n  }, __jsx(Row, {\n    className: \"justify-content-center p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }\n  }, __jsx(Col, {\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, __jsx(Card, {\n    className: \"shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 6\n    }\n  }, __jsx(Card.Header, {\n    style: {\n      backgroundBlendMode: '-moz-initial'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), __jsx(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    onSubmit: AddCustomer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 8\n    }\n  }, __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }\n  }, \"Name\"), __jsx(Form.Control, {\n    type: \"text\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    placeholder: \"enter full name\",\n    ref: inputRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 10\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 10\n    }\n  }, \"Email\"), __jsx(Form.Control, {\n    type: \"email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    placeholder: \"enter  email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 10\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  }, \"Address\"), __jsx(Form.Control, {\n    type: \"text\",\n    value: address,\n    onChange: function onChange(e) {\n      return setAddress(e.target.value);\n    },\n    placeholder: \"enter  address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 10\n    }\n  }))), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 8\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"phone\"), __jsx(Form.Control, {\n    type: \"text\",\n    value: phone,\n    onChange: function onChange(e) {\n      return setPhone(e.target.value);\n    },\n    placeholder: \"enter  phoneNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 8\n    }\n  }, __jsx(Button, {\n    className: \"ml-2 btn-secondary mb-0 pb-1\",\n    onClick: AddCustomer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, loading ? __jsx(Spinner, {\n    animation: \"border\",\n    variant: \"ligth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }) : __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 70\n    }\n  }, \"Insert\")))), __jsx(Card.Footer, {\n    style: {\n      backgroundBlendMode: '-moz-initial'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }))), __jsx(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  })));\n}\n\n_s(CustomersForm, \"cXc67HuIhgs128XDecOHzlrDCmY=\", false, function () {\n  return [useRouter];\n});\n\n_c = CustomersForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomersForm\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/typescript/my-app/pages/customersForm.tsx"],"names":["React","useState","useContext","useRef","useEffect","Button","Card","Col","Form","Row","Spinner","useFirebase","useRouter","toast","ToastContainer","AuthGuard","CustomersForm","name","setName","email","setEmail","phone","setPhone","address","setAddress","loading","setLoading","inputRef","router","app","firestore","AddCustomer","length","error","now","Date","newCustomer","id","type","collection","add","res","success","console","log","push","handleEdit","current","focus","backgroundBlendMode","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useRef, useEffect } from 'react';\r\nimport { Button, Card, Col, Form, Row, Spinner } from 'react-bootstrap';\r\nimport useFirebase from '../components/useFirebase';\r\nimport { useRouter } from 'next/router';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport AuthGuard from '../components/Authentification';\r\n\r\nexport interface Customers {\r\n\tid: string;\r\n\tname: string;\r\n\temail: string;\r\n\taddress: string;\r\n\tphone: string;\r\n\ttype: 'Roaster' | 'One-off';\r\n\t_id?: any;\r\n}\r\n\r\nexport default function CustomersForm() {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [phone, setPhone] = useState('');\r\n\tconst [address, setAddress] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst inputRef: any = useRef(null);\r\n\r\n\tconst router = useRouter();\r\n\tconst app = useContext(useFirebase);\r\n\tconst firestore = app.firestore();\r\n\tconst AddCustomer = async () => {\r\n\t\tif (name.length < 5) return toast.error('customer name must be grater that 5 characters');\r\n\t\tif (email.length < 7) return toast.error('customer email must be grater that 7 characters');\r\n\t\tif (address.length < 5) return toast.error('customer address must be grater that 5 characters');\r\n\t\tif (phone.length < 7) return toast.error('customer phone number must be grater that 7 characters');\r\n\t\tif (name.length > 100 || email.length > 50 || address.length > 100 || phone.length > 20)\r\n\t\t\treturn toast.error('Invalid Request');\r\n\t\tsetLoading(true);\r\n\t\tconst now = Date.now();\r\n\t\tconst newCustomer: Customers = {\r\n\t\t\tid: `${now}`,\r\n\t\t\tname: name,\r\n\t\t\temail: email,\r\n\t\t\tphone: phone,\r\n\t\t\taddress: address,\r\n\t\t\ttype: 'One-off',\r\n\t\t};\r\n\t\ttry {\r\n\t\t\t//call the backend to add the customer\r\n\t\t\tconst res = await firestore.collection('customers').add(newCustomer);\r\n\t\t\ttoast.success('customer added to the database');\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(res);\r\n\t\t\trouter.push('/customers');\r\n\t\t} catch (error) {\r\n\t\t\ttoast.error('Cant connect to database now');\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\tconst handleEdit = async (id: string) => {\r\n\t\tconsole.log(id);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tinputRef.current.focus();\r\n\t}, []);\r\n\treturn (\r\n\t\t<AuthGuard>\r\n\t\t\t<Row className=\"justify-content-center p-5\">\r\n\t\t\t\t<Col lg={4}>\r\n\t\t\t\t\t<Card className=\"shadow\">\r\n\t\t\t\t\t\t<Card.Header style={{ backgroundBlendMode: '-moz-initial' }}></Card.Header>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t<Form onSubmit={AddCustomer}>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"enter full name\"\r\n\t\t\t\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Email</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"enter  email\"\r\n\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"enter  address\"\r\n\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>phone</Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={phone}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setPhone(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"enter  phoneNumber\"\r\n\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2 btn-secondary mb-0 pb-1\" onClick={AddCustomer}>\r\n\t\t\t\t\t\t\t\t\t{loading ? <Spinner animation=\"border\" variant=\"ligth\" /> : <span>Insert</span>}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t<Card.Footer style={{ backgroundBlendMode: '-moz-initial' }}></Card.Footer>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<ToastContainer></ToastContainer>\r\n\t\t\t</Row>\r\n\t\t</AuthGuard>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}