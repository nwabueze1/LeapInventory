{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\typescript\\\\my-app\\\\pages\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Button, Form } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport useFirebase from '../components/useFirebase';\nexport default function Home() {\n  _s();\n\n  var authentification = useContext(useFirebase);\n  var app = authentification.auth();\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var router = useRouter();\n  var inputRef = useRef(null);\n  useEffect(function () {\n    //focus the input element on pageLoad\n    inputRef.current.focus();\n  }, []);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(email.length < 8)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('please enter a valid email, must be min 8 xters...'));\n\n            case 2:\n              if (!(password.length < 5)) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", toast.error('please enter a valid password'));\n\n            case 4:\n              setLoading(true);\n              _context.prev = 5;\n              _context.next = 8;\n              return app.signInWithEmailAndPassword(email, password);\n\n            case 8:\n              res = _context.sent;\n              toast.success('Signed in successfully');\n              router.push('/welcome');\n              _context.next = 17;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](5);\n              return _context.abrupt(\"return\", toast.error('failed to login'));\n\n            case 17:\n              setLoading(false);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 13]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 3\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }\n  }, \"Sign In\"), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, \"Email address\"), __jsx(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }, __jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \"password\"), __jsx(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter passowrd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  })), __jsx(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }, __jsx(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, \"Submit\")));\n}\n\n_s(Home, \"rjj0plbcOKS2E/10HlagZ/TIDIo=\", false, function () {\n  return [useRouter];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/typescript/my-app/pages/index.tsx"],"names":["React","useContext","useState","useRef","useEffect","useRouter","Button","Form","toast","useFirebase","Home","authentification","app","auth","email","setEmail","password","setPassword","loading","setLoading","router","inputRef","current","focus","handleSubmit","length","error","signInWithEmailAndPassword","res","success","push"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { Button, Card, Col, Container, Form, Row, Spinner } from 'react-bootstrap';\nimport { toast, ToastContainer } from 'react-toastify';\nimport useFirebase from '../components/useFirebase';\nimport styles from '../styles/cardHeader.module.scss';\n\nexport default function Home(): JSX.Element {\n\tconst authentification = useContext(useFirebase);\n\tconst app = authentification.auth();\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [loading, setLoading] = useState(false);\n\tconst router = useRouter();\n\tconst inputRef = useRef(null);\n\n\tuseEffect(() => {\n\t\t//focus the input element on pageLoad\n\t\tinputRef.current.focus();\n\t}, []);\n\n\tconst handleSubmit = async () => {\n\t\tif (email.length < 8) return toast.error('please enter a valid email, must be min 8 xters...');\n\t\tif (password.length < 5) return toast.error('please enter a valid password');\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst res = await app.signInWithEmailAndPassword(email, password);\n\t\t\ttoast.success('Signed in successfully');\n\n\t\t\trouter.push('/welcome');\n\t\t} catch (error) {\n\t\t\treturn toast.error('failed to login');\n\t\t\tsetLoading(false);\n\t\t}\n\t\tsetLoading(false);\n\t};\n\treturn (\n\t\t<Form>\n\t\t\t<h3>Sign In</h3>\n\t\t\t<Form.Group>\n\t\t\t\t<Form.Label>Email address</Form.Label>\n\t\t\t\t<Form.Control type=\"email\" placeholder=\"Enter email\"></Form.Control>\n\t\t\t</Form.Group>\n\t\t\t<Form.Group>\n\t\t\t\t<Form.Label>password</Form.Label>\n\t\t\t\t<Form.Control type=\"password\" placeholder=\"Enter passowrd\"></Form.Control>\n\t\t\t</Form.Group>\n\t\t\t<Form.Group>\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t</Form.Group>\n\t\t</Form>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}